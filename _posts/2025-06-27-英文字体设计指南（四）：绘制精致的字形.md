---
layout: post
title:  "英文字体设计指南（四）：绘制精致的字形"
author: "Silhouette"
tags: [字体设计]
excerpt_separator: <!--more-->
sticky: true
hidden: true
---

<!--more-->

[英文字体设计指南（三）：软件基本使用流程](/2025-06-26/英文字体设计指南-三-软件基本使用流程)

---

## 准备范本

由于我们的目标是制作手写风格的书法字体，从零开始在屏幕上构建字形是困难的——尽管电脑字体允许很多在纯手写风格基础上的改变，例如增加一些很难使用蘸水笔直接书写的笔画，不基于实际的手写范例而直接使用曲线绘制字形，所要求的在自由发挥的同时把握整体风格和一致性的能力，可能是对英文书法字体非极其精通者而言很难具有的。因此，需要使用范本进行叠图。

范本既可以使用古典书法大师的范本，也可以自己书写。由于字体制作的过程中可以自动解决几乎所有的细节问题，对自己的字形审美有自信的话，你完全不需要担心自己书写的范本太过潦草或细节过于缺乏的问题——你仅仅需要一个字形框架来进行引导，避免绘制的字形过度走偏罢了。

以这张我书写字母的照片为例，可以将其导入 Inkscape 中，使用软件中的 File - Import 选项，复制然后粘贴图片至画布，或者直接将图片拖入软件……总之，常见的在绘图软件中打开一张图片的方法。

![F](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/QQ图片20240814010120.jpg)

接下来用这张图片作为底座，尝试绘制字形。

## 字形描边

在 Layers and Objects 中，将图片对象放置在最底部，避免遮挡任何绘制的字形。可以在图层管理器中点击图片对象右侧的锁图案，点击后对象将切换锁定状态，被锁定的对象无法被选中，作为背景图不会干扰编辑过程。

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image.png)

新建一个字形并编辑，其他字形图层将自动被隐藏，但由于图片对象被放在整个字体图层外部，因此仍然显示在最底部。

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-1.png)

以 F 的主笔画为例，用钢笔工具绕希望描边的区域绘制一段封闭曲线。先圈出大体的轮廓——此处只需四个顶点就够了，然后再慢慢调整。

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-2.png)

此处需要用到 Fill and Stroke 中的选项对曲线进行一些设置。其中：

- Fill 设置闭合曲线填充与否及填充颜色，后者在字体设计中不重要。注意开放曲线将自动使用直线连接首尾使其闭合。
- Stroke paint 类似地设置描边的填充和颜色。
- Stroke style 设置描边粗细。

事实上，OpenType 字体不会在意曲线描边的粗细，填充与否等一切额外的设置——字体渲染器将简单地填充闭合曲线的内容，并默认曲线的描边粗细为 0。但这并不代表上述设置是无意义的，例如当面临接下来这个急需解决的问题时——如何绘制 hairline？

hairline 和 shade 不同，属于理论上“粗细为 0”的非闭合曲线，这在 OpenType 中是不被支持的，字体渲染器将直接闭合原有的开发曲线，产生不符合期望的图形。例如，下图是我初期尝试制作字体时被这个问题困扰的场景：

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/w.jpg)

这个问题的解决方法是使用 Inkscape 中的 Stroke to Path 功能——这个功能在不同的软件中可能有不同的名称，例如在 FontLab 中叫做 Expand Contour，但其作用是相同的：为开放的，宽度为 0 的曲线赋予一个实际的宽度，并用一段为其描边的封闭曲线来代替原来的曲线。

单纯的语言描述十分抽象，看看对曲线实际应用这个转换操作的效果。

首先绘制一条单线 hairline，如图：

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-3.png)

此时这条曲线虽然看起来是正常的，但无法作为字形正常渲染。为了模拟渲染时的效果，将曲线宽度设为 0，而填充设为黑色，可以看到显示变成了这样：

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-4.png)

而 Stroke to Path 的作用是通过描边让曲线看起来和原来一样。把曲线调回原来的设置，保证选中曲线，然后通过快捷键 Ctrl + Shift + C 进行转换，可以看到原来的每个顶点现在变成了两个：

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-5.png)

放大看，可以发现实际上是对曲线的显示效果进行了描边。此时曲线的 Fill 和 Stroke paint 都被设为了 undefined，这实际上使曲线的描边不显示，而填充显示为黑色，就像字体渲染中的效果一样。

如果把填充改回为无，而描边设置一定的粗细，就可以很清晰地看到 Stroke to Path 的作用了：

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-7.png)

简单地说，应用这个操作可以保证字体渲染器中看到的字形与此处设置了描边宽度和填充与否的曲线渲染效果完全相同。

## 合并

SVG 格式中，一个字形只能包含一个路径（path 元素的 d 属性），这意味着当点击字体编辑器中的 Get curves 按钮以获取字形时，只能选中一个曲线对象，不能同时将多条曲线同时设置为字形内容。因此，需要先将所有曲线合并，再选中合并后的对象设置为字形。

合并的操作是矢量图的布尔和操作，即获取所有封闭曲线填充的并集。选中所有需要合并的对象，按快捷键 Ctrl + + 进行操作。注意合并操作和 Stroke to Path 操作都是不可逆的，因此一般保留原始的曲线对象数据，在最终生成字体时再备份并合并处理。

## 衔接

hairline 和 shade 之间需要衔接，实际上需要实现 shade 的边缘轮廓从有一定距离到逐渐合拢再到并为一条单线的过程——如果你用点尖写字的话，实际上就是两尖的张开状态和闭合状态之间需要有一个平滑的过渡。

如果不加修正地直接合并 hairline 和 shade 部分，衔接处的效果可能是这样的，以我早期的尝试为例：

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-6.png)

实际的 hairline 宽度经过了扩充，因此并非没有宽度，而实际上是一个被拉长而弯曲的矩形；而 shade 由于在末端是一个转折顶点，因此渲染成一个尖角，两者结合的效果很不自然。尽管实际在大多数正常大小的文字中将很难注意到这些细节，在设计的过程中应该尽量保证每一处细节的完美。

考虑笔尖从张开到闭合的过程，不难想到为了实现平滑的过渡，在 shade 的末端两边轮廓的切线应该趋于平行。在实现中，应该使尖角处顶点的两个控制手柄朝向相同方向。*值得注意的是，精确输入控制手柄角度的功能目前没有矢量图形编辑软件支持，只能手动调整，这可能导致较小的误差，在字体渲染中基本无伤大雅。我计划写一个辅助控制手柄角度修正的脚本。*

同时，在进行合并操作之前，必须对 shade 部分也进行 Stroke to Path 操作。原因比较显然，不再赘述，可以自行尝试反例。对闭合曲线进行 Stroke to Path 操作会导致一个对象分组被创建，分组中包含两个新对象，分别是原曲线描边的扩展和填充部分。在合并时，可以直接选中所有对象一起合并。

## 利用顶点工具

顶点工具可以对曲线中的顶点和手柄进行微调和优化，刚刚提到需要注意的衔接问题就需要利用顶点工具进行调整。

仍然以上面图片为例，除衔接部分的问题之外，放大其实还可以注意到曲线有一些不自然之处：

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-8.png)

这里的不自然是一种微妙的不顺畅感，与手写 hairline 不同，这里的曲线并未出现明显的抖动或断裂，而是在某些点上有细微的，僵硬的转折，手写中并不会出现这种情况。

出现这种问题的原因是使用顶点过多。如图，这一段非常简单的曲线使用了近十个点，这是完全没有必要的。

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-9.png)

可以对曲线进行简化（不要使用自带的曲线简化功能），操作方法为简单地删去顶点：选中顶点，然后按下 delete 键。简化后的曲线如图，仅保留一半的顶点：

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-10.png)

少数不自然处可以重新进行微调。总之，在绘制曲线时不是顶点越多越好，绝大多数曲线只需要 3 - 4 个中间点。如果曲线在某处的弯曲程度非常大，可以增加顶点数量帮助精确控制。

除特别留出的转折点，顶点一般都设置为一阶连续。可以设置为二阶连续使顶点处更平滑，但几乎不需要。

## 一些备注

- 使用顶点工具选中对象时，按下 Ctrl 键同时在顶点上滚动鼠标滚轮可以选中多个顶点，这个功能很难用。
- 鼠标拖拽创建虚线框可以选中多个顶点，也可以选中多个图层对象。
- 按住 Ctrl 键时移动控制手柄可以保证其角度落在常见角度（15 度倍角）上，但由于 15 度的步长过大很多时候无法满足精确控制角度的要求。
- 直接按 delete 键删除顶点会导致曲线的剩余顶点和控制点自动被调整以近似原曲线。这种调整偶尔是不尽人意的。
- 选择工具下，在曲线上双击将切换至顶点工具；顶点工具下双击曲线线段部分将创建一个新的顶点，顶点一阶连续。
- 在 Inkscape 1.4 版本中，按下 Ctrl + Alt + C 快捷键有概率使软件崩溃。

![alt text](/assets/images/2025-06-27-英文字体设计指南（四）：绘制精致的字形/image-4%20(2).png)

---

## 总结

基础的字体创建和字形绘制部分已经完成介绍，接下来将介绍间距处理和连字部分，也是最麻烦的一个步骤。

[英文字体设计指南（五）：间距和连字](/2025-06-29/英文字体设计指南-五-间距和连字)